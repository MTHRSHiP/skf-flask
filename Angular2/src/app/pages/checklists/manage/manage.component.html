<div class="container-fluid">
    <!-- start page title -->
    <app-page-title title="Checklists" [breadcrumbItems]="breadCrumbItems"></app-page-title>
    <!-- end page title -->
  
    <div class="card mb-3">
      <div class="card-body">
        <form>
          <div class="row text-center">
              <div class="col-xl-12 col-md-6">
                  <div class="form-group mt-3 mb-2">
                      <label class="float-left">Questionarie :</label>
                      <select class="form-control select2-search-disable">
                          <option value="#" selected>Content 1</option>
                          <option value="#">Content 2</option>
                      </select>
                  </div>
              </div>
              <div class="col-xl col-sm-6 align-self-end">
                  <div class="btn-group mx-2 mt-2">
                      <button type="button" class="btn btn-success">Add</button>
                    </div>
                    <div class="btn-group mx-2 mt-2">
                      <button type="button" class="btn btn-warning">Update</button>
                    </div>
                    <div class="btn-group mx-2 mt-2">
                      <button type="button" class="btn btn-danger">Delete</button>
                    </div>
              </div>
          </div>
      </form>
      </div>
    </div>
  
    <div class="card">
      <div class="card-body">
        <div class="row">
          <div class="col-lg-6">
            <div class="card shadow-none border">
              <div class="card-body">
                <div class="dropdown float-right" ngbDropdown>
                  <a href="javascript: void(0);" class="dropdown-toggle arrow-none" ngbDropdownToggle>
                    <i class="mdi mdi-dots-vertical m-0 text-muted h5"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                    <a class="dropdown-item" href="javascript: void(0);">Edit</a>
                    <a class="dropdown-item" href="javascript: void(0);">Delete</a>
                  </div>
                </div> <!-- end dropdown -->
      
                <h4 class="card-title mb-4">Checklist total (of not yet assinged requirements)</h4>
                <div id="check-total" class="pb-1 check-list" dndDropzone dndEffectAllowed="move"
                  (dndDrop)="onDrop($event, checkTotal,'check-total')">
                  <div class="dndPlaceholder" dndPlaceholderRef></div>
      
                  <ng-container *ngFor="let item of checkTotal">
                    <div [dndDraggable]="item" dndEffectAllowed="move" (dndMoved)="onDragged(item, checkTotal)">
                      <ng-template [ngTemplateOutlet]="CheckContent" [ngTemplateOutletContext]="{item:item}">
                      </ng-template>
                    </div>
                  </ng-container>
      
                  <div class="text-center mt-3">
                    <a href="javascript: void(0);" class="btn btn-primary btn-block mt-1"><i class="mdi mdi-plus mr-1"></i>
                      Add New</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <!-- end col -->
      
          <div class="col-lg-6">
            <div class="card shadow-none border">
              <div class="card-body">
                <div class="dropdown float-right" ngbDropdown>
                  <a href="javascript: void(0);" class="dropdown-toggle arrow-none" ngbDropdownToggle>
                    <i class="mdi mdi-dots-vertical m-0 text-muted h5"></i>
                  </a>
                  <div class="dropdown-menu dropdown-menu-right" ngbDropdownMenu>
                    <a class="dropdown-item" href="javascript: void(0);">Edit</a>
                    <a class="dropdown-item" href="javascript: void(0);">Delete</a>
                  </div>
                </div> <!-- end dropdown -->
      
                <h4 class="card-title mb-4">Checklist items correlated to selected question</h4>
                <div id="check-item" class="pb-1 check-list" dndDropzone dndEffectAllowed="move"
                  (dndDrop)="onDrop($event, checkItems,'check-item')">
                  <div class="dndPlaceholder" dndPlaceholderRef></div>
                  <ng-container *ngFor="let item of checkItems">
                    <div [dndDraggable]="item" dndEffectAllowed="move" (dndMoved)="onDragged(item, checkItems)">
                      <ng-template [ngTemplateOutlet]="CheckContent" [ngTemplateOutletContext]="{item:item}">
                      </ng-template>
                    </div>
                  </ng-container>
                  <div class="text-center mt-3">
                    <a href="javascript: void(0);" class="btn btn-primary btn-block mt-1"><i class="mdi mdi-plus mr-1"></i>
                      Add New</a>
                  </div>
                </div>
              </div>
            </div>
          </div>
      
        </div>
      </div>
    </div>
  
  </div>
  
  <!-- Content  -->
  <ng-template #CheckContent let-item='item'>
    <div class="card border border shadow-sm">
      <div class="card-body pb-0">
        <div class="float-right ml-2">
          <span class="badge badge-pill badge-soft-secondary font-size-12" [ngClass]=" { 
              'badge-soft-danger': item.status === 'Pending',
              'badge-soft-success': item.status === 'Completed'}">{{item.status}}</span>
        </div>
        <div>
          <h5 class="font-size-15 mb-4"><a href="javascript: void(0);" class="text-dark">{{item.title}}</a>
          </h5>
        </div>
  
          <div class="float-left">
            <a href="javascript: void(0);" class="badge badge-primary font-size-12 m-1">{{item.cwe}}</a>
            <a href="javascript: void(0);" class="badge badge-primary font-size-12 m-1">{{item.include}}</a>
            <a href="javascript: void(0);" class="badge badge-primary font-size-12 m-1">{{item.maturity}}</a>
          </div>
    
          <div class="text-right">
            <h5 class="font-size-15">{{item.checkid}}</h5>
          </div>
  
        <div class="card-footer text-center bg-transparent border-top mt-3">
          <div class="contact-links d-flex font-size-20">
            <div class="flex-fill">
              <a href="javascript: void(0);" ngbTooltip="Message"><i class="bx bx-list-check font-size-20"></i></a>
            </div>
            <div class="flex-fill">
              <a href="javascript: void(0);" ngbTooltip="Projects"><i class="bx bx-question-mark"></i></a>
            </div>
            <div class="flex-fill">
              <a href="javascript: void(0);" ngbTooltip="Profile"><i class="bx bx-book"></i></a>
            </div>
          </div>
        </div>
  
      </div>
    </div>
  </ng-template>
  